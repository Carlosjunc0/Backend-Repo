<% if (title) { %>
    <h1>
        <%= title %>
    </h1>
    <% } else { res.redirect('/') } %>

        <% if (notice && notice.length> 0) { %>
            <ul class="notice">
                <% notice.forEach(msg=> { %>
                    <li>
                        <%= msg %>
                    </li>
                    <% }) %>
            </ul>
            <% } %>

                <% if (errors) { %>
                    <ul class="notice">
                        <% errors.array().forEach(error=> { %>
                            <li>
                                <%= error.msg %>
                            </li>
                            <% }) %>
                    </ul>
                    <% } %>

                        <div class="login-container">
                            <form action="/account/register" method="post" id="loginForm">
                                <label for="account_firstname">First name:</label>
                                <input type="text" id="account_firstname" name="account_firstname" required
                                    value="<%= locals.account_firstname %>" />

                                <label for="account_lastname">Last name:</label>
                                <input type="text" id="account_lastname" name="account_lastname" required
                                    value="<%= locals.account_lastname %>" />

                                <label for="account_email">Email Address:</label>
                                <input type="email" id="account_email" name="account_email" required
                                    value="<%= locals.account_email %>" />


                                <label for="account_password">Password:</label>
                                <input type="password" id="account_password" name="account_password" required
                                    pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$" />


                                <small class="password-hint">Password must be minimum of 12 characters and include 1
                                    capital
                                    letter, 1 number and 1 special character</small>

                                <div class="show password">
                                    <input type="checkbox" id="togglePassword">
                                    <label for="togglePassword">Show password</label>
                                </div>


                                <button type="submit">Register</button>
                            </form>
                            <p>Already have an account? <a href="/account/login">Log in</a></p>
                        </div>

                        <script>
                            const togglePassword = document.getElementById("togglePassword");
                            const passwordInput = document.getElementById("account_password");

                            togglePassword.addEventListener("change", function () {
                                if (this.checked) {
                                    passwordInput.type = "text";
                                } else {
                                    passwordInput.type = "password";
                                }
                            });
                        </script>